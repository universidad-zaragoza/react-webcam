import{R as f,r as u}from"./react-CKke45KU.js";import"./react-dom-pilMMtGk.js";import{k as E,l as x,_ as b,m as y}from"./@babel-Ba3GPgTz.js";const v=f.createContext(null);function h(t,r){var l=function(e){return r&&u.isValidElement(e)?r(e):e},i=Object.create(null);return t&&u.Children.map(t,function(e){return e}).forEach(function(e){i[e.key]=l(e)}),i}function V(t,r){t=t||{},r=r||{};function l(p){return p in r?r[p]:t[p]}var i=Object.create(null),e=[];for(var o in t)o in r?e.length&&(i[o]=e,e=[]):e.push(o);var n,c={};for(var a in r){if(i[a])for(n=0;n<i[a].length;n++){var s=i[a][n];c[i[a][n]]=l(s)}c[a]=l(a)}for(n=0;n<e.length;n++)c[e[n]]=l(e[n]);return c}function d(t,r,l){return l[r]!=null?l[r]:t.props[r]}function g(t,r){return h(t.children,function(l){return u.cloneElement(l,{onExited:r.bind(null,l),in:!0,appear:d(l,"appear",t),enter:d(l,"enter",t),exit:d(l,"exit",t)})})}function k(t,r,l){var i=h(t.children),e=V(r,i);return Object.keys(e).forEach(function(o){var n=e[o];if(u.isValidElement(n)){var c=o in r,a=o in i,s=r[o],p=u.isValidElement(s)&&!s.props.in;a&&(!c||p)?e[o]=u.cloneElement(n,{onExited:l.bind(null,n),in:!0,exit:d(n,"exit",t),enter:d(n,"enter",t)}):!a&&c&&!p?e[o]=u.cloneElement(n,{in:!1}):a&&c&&u.isValidElement(s)&&(e[o]=u.cloneElement(n,{onExited:l.bind(null,n),in:s.props.in,exit:d(n,"exit",t),enter:d(n,"enter",t)}))}}),e}var j=Object.values||function(t){return Object.keys(t).map(function(r){return t[r]})},F={component:"div",childFactory:function(t){return t}},m=function(t){E(r,t);function r(i,e){var o;o=t.call(this,i,e)||this;var n=o.handleExited.bind(x(o));return o.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},o}var l=r.prototype;return l.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},l.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(i,e){var o=e.children,n=e.handleExited,c=e.firstRender;return{children:c?g(i,n):k(i,o,n),firstRender:!1}},l.handleExited=function(i,e){var o=h(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(e),this.mounted&&this.setState(function(n){var c=b({},n.children);return delete c[i.key],{children:c}}))},l.render=function(){var i=this.props,e=i.component,o=i.childFactory,n=y(i,["component","childFactory"]),c=this.state.contextValue,a=j(this.state.children).map(o);return delete n.appear,delete n.enter,delete n.exit,e===null?f.createElement(v.Provider,{value:c},a):f.createElement(v.Provider,{value:c},f.createElement(e,n,a))},r}(f.Component);m.propTypes={},m.defaultProps=F;const O=m;export{O as T};
