import{r as c,j as e,a}from"./react-kxrMq5Cz.js";import{c as m}from"./react-dom-D94D8k72.js";import{B as h}from"./react-router-dom-Ca79t6aw.js";import{W as g}from"./react-webcam-DgE9w9EX.js";import{u as j,a as x,b as l}from"./react-router-o3Nn-63v.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-Dql683DL.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function f(){const n=c.useRef(null),[i,t]=c.useState(null),r=c.useCallback(()=>{const o=n.current?n.current.getScreenshot():null;t(o)},[n]),s={width:390,height:390,facingMode:"user"};return e.jsx("div",{className:"Container",children:i===null?e.jsxs(e.Fragment,{children:[e.jsx(g,{screenshotFormat:"image/jpeg",videoConstraints:s,audio:!1,height:500,width:500,ref:n,mirrored:!0}),e.jsx("button",{onClick:r,children:"Capture photo"})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:i,alt:"screenshot"}),e.jsx("button",{onClick:()=>t(null),children:"Recapture"})]})})}const d=c.createContext({messages:[],addMessage:()=>{}}),p=({children:n})=>{const[i,t]=c.useState([]),r=s=>{const o=JSON.stringify(s);console.log("+++ Inside MessageProvider => "+o),t(u=>[...u,o])};return e.jsx(d.Provider,{value:{messages:i,addMessage:r},children:n})},b=()=>c.useContext(d),v=()=>{const{messages:n}=b(),i=j(),t=()=>{i("/")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"debug-container",children:e.jsxs("div",{className:"debug-container-grid",children:[e.jsx("div",{className:"debug-container-grid-item-traza",children:e.jsx("ul",{children:n.map((r,s)=>r&&e.jsx("li",{children:r},s))})}),e.jsx("div",{className:"debug-container-grid-item-input-btns",children:e.jsx("div",{className:"debug-container-grid-item-input-field",children:e.jsx("div",{className:"input-group mb-3",children:e.jsx("button",{onClick:t,children:"Volver"})})})})]})})})};function y(){return e.jsx(a.StrictMode,{children:e.jsx(p,{children:e.jsx(h,{basename:"/react-webcam",children:e.jsxs(x,{children:[e.jsx(l,{path:"/",element:e.jsx(f,{})}),e.jsx(l,{path:"/debug",element:e.jsx(v,{})})]})})})})}m.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(y,{})}));
