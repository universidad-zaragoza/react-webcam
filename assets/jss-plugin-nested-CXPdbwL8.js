import{_ as d}from"./@babel-Ba3GPgTz.js";var a=/\s*,\s*/g,y=/&/g,m=/\$([\w-]+)/g;function h(){function v(t,l){return function(o,e){var r=t.getRule(e)||l&&l.getRule(e);return r?r.selector:e}}function g(t,l){for(var o=l.split(a),e=t.split(a),r="",i=0;i<o.length;i++)for(var s=o[i],n=0;n<e.length;n++){var c=e[n];r&&(r+=", "),r+=c.indexOf("&")!==-1?c.replace(y,s):s+" "+c}return r}function x(t,l,o){if(o)return d({},o,{index:o.index+1});var e=t.options.nestingLevel;e=e===void 0?1:e+1;var r=d({},t.options,{nestingLevel:e,index:l.indexOf(t)+1});return delete r.name,r}function R(t,l,o){if(l.type!=="style")return t;var e=l,r=e.options.parent,i,s;for(var n in t){var c=n.indexOf("&")!==-1,f=n[0]==="@";if(!(!c&&!f)){if(i=x(e,r,i),c){var u=g(n,e.selector);s||(s=v(r,o)),u=u.replace(m,s);var p=e.key+"-"+n;"replaceRule"in r?r.replaceRule(p,t[n],d({},i,{selector:u})):r.addRule(p,t[n],d({},i,{selector:u}))}else f&&r.addRule(n,{},i).addRule(e.key,t[n],{selector:e.selector});delete t[n]}}return t}return{onProcessStyle:R}}export{h as j};
