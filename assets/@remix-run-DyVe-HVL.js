/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P(){return P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},P.apply(this,arguments)}var g;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(g||(g={}));const O="popstate";function H(t){t===void 0&&(t={});function e(a,r){let{pathname:o,search:s,hash:i}=a.location;return E("",{pathname:o,search:s,hash:i},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:A(r)}return T(e,n,null,t)}function x(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N(){return Math.random().toString(36).substr(2,8)}function W(t,e){return{usr:t.state,key:t.key,idx:e}}function E(t,e,n,a){return n===void 0&&(n=null),P({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?L(e):e,{state:n,key:e&&e.key||a||N()})}function A(t){let{pathname:e="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function L(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function T(t,e,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:o=!1}=a,s=r.history,i=g.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(P({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function d(){i=g.Pop;let c=h(),p=c==null?null:c-u;u=c,l&&l({action:i,location:m.location,delta:p})}function $(c,p){i=g.Push;let f=E(m.location,c,p);n&&n(f,c),u=h()+1;let S=W(f,u),b=m.createHref(f);try{s.pushState(S,"",b)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(b)}o&&l&&l({action:i,location:m.location,delta:1})}function w(c,p){i=g.Replace;let f=E(m.location,c,p);n&&n(f,c),u=h();let S=W(f,u),b=m.createHref(f);s.replaceState(S,"",b),o&&l&&l({action:i,location:m.location,delta:0})}function y(c){let p=r.location.origin!=="null"?r.location.origin:r.location.href,f=typeof c=="string"?c:A(c);return f=f.replace(/ $/,"%20"),x(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let m={get action(){return i},get location(){return t(r,s)},listen(c){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(O,d),l=c,()=>{r.removeEventListener(O,d),l=null}},createHref(c){return e(r,c)},createURL:y,encodeLocation(c){let p=y(c);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:$,replace:w,go(c){return s.go(c)}};return m}var U;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(U||(U={}));function D(t,e,n){n===void 0&&(n="/");let a=typeof e=="string"?L(e):e,r=B(a.pathname||"/",n);if(r==null)return null;let o=C(t);F(o);let s=null;for(let i=0;s==null&&i<o.length;++i){let l=tt(r);s=Y(o[i],l)}return s}function C(t,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(o,s,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(x(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(a.length));let u=v([a,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(x(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),C(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Q(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))r(o,s);else for(let l of M(o.path))r(o,s,l)}),e}function M(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return r?[o,""]:[o];let s=M(a.join("/")),i=[];return i.push(...s.map(l=>l===""?o:[o,l].join("/"))),r&&i.push(...s),i.map(l=>t.startsWith("/")&&l===""?"/":l)}function F(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const V=/^:[\w-]+$/,q=3,z=2,G=1,J=10,K=-2,k=t=>t==="*";function Q(t,e){let n=t.split("/"),a=n.length;return n.some(k)&&(a+=K),e&&(a+=z),n.filter(r=>!k(r)).reduce((r,o)=>r+(V.test(o)?q:o===""?G:J),a)}function X(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Y(t,e){let{routesMeta:n}=t,a={},r="/",o=[];for(let s=0;s<n.length;++s){let i=n[s],l=s===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",h=Z({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},u);if(!h)return null;Object.assign(a,h.params);let d=i.route;o.push({params:a,pathname:v([r,h.pathname]),pathnameBase:et(v([r,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(r=v([r,h.pathnameBase]))}return o}function Z(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=_(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((l,u,h)=>{let{paramName:d,isOptional:$}=u;if(d==="*"){let y=i[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const w=i[h];return $&&!w?l[d]=void 0:l[d]=(w||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:t}}function _(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,i)=>(a.push({paramName:s,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function tt(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function B(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}const v=t=>t.join("/").replace(/\/\/+/g,"/"),et=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function nt(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I=["post","put","patch","delete"];new Set(I);const at=["get",...I];new Set(at);export{g as A,nt as a,H as c,x as i,v as j,D as m,L as p,B as s};
